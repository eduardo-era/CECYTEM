CREATE DATABASE HORARIOS;
USE HORARIOS;


CREATE TABLE IF NOT EXISTS DATOS_PROFESOR (
  PK_CH_ID_CURP VARCHAR(18) NOT NULL,
  CH_NOMBRE VARCHAR(45) NOT NULL,
  CH_APELLIDO_1 VARCHAR(45) NOT NULL,
  CH_APELLIDO2 VARCHAR(45) NOT NULL,
  CH_GENERO VARCHAR(10) NOT NULL,
  CH_LUGAR_DE_NACIMIENTO VARCHAR(20) NOT NULL,
  DT_FECHA_NACIMIENTO DATE NOT NULL,
  INT_EDAD INT NOT NULL,
  CH_ESTADO_CIVIL VARCHAR(20) NOT NULL,
  CH_RFC VARCHAR(13) NOT NULL,
  CH_CORREO VARCHAR(45) NOT NULL,
  CH_CELULAR VARCHAR(10) NOT NULL,
  CH_TELEFONO_LOCAL VARCHAR(8) NOT NULL,
  CH_CP VARCHAR(5) ,
  CH_CALLE VARCHAR(45) ,
  CH_COLONIA VARCHAR(45) NOT NULL,
  CH_NUMERO VARCHAR(3) NOT NULL,
  CH_ESTADO VARCHAR(45) NOT NULL,
  PK_CH_ID_PERFIL_PROFESIONAL VARCHAR(2) NOT NULL,
  PK_CH_ID_NOMINA VARCHAR(20) NOT NULL,
  PRIMARY KEY (PK_CH_ID_CURP),
  FOREIGN KEY (PK_CH_ID_PERFIL_PROFESIONAL) REFERENCES PERFIL_PROFESIONAL (PK_CH_ID_PERFIL_PROFESIONAL),
   FOREIGN KEY ( PK_CH_ID_NOMINA) REFERENCES DATOS_ACADEMICOS ( PK_CH_ID_NOMINA)
   )ENGINE = InnoDB;


CREATE TABLE IF NOT EXISTS PERFIL_PROFESIONAL
(
   PK_CH_ID_PERFIL_PROFESIONAL VARCHAR(2) NOT NULL,
   CH_PERFIL_ACADEMICO  VARCHAR(45) NOT NULL,
   CH_LICENCIATURA VARCHAR(45) NOT NULL,
   CH_CEDULA_LICENCIATURA VARCHAR(45) NOT NULL,
   CH_MAESTRIA VARCHAR(45) ,
   CH_CEDULA_MAESTRIA VARCHAR(45) ,
   CH_DOCTORADO VARCHAR(45) ,
   CH_CEDULA_DOCTORADO  VARCHAR(45) ,
   ESPECIALIDAD VARCHAR(50) NOT NULL,
  PRIMARY KEY (PK_CH_ID_PERFIL_PROFESIONAL)
)ENGINE = InnoDB;

CREATE TABLE IF NOT EXISTS  DATOS_ACADEMICOS
(
 PK_CH_ID_NOMINA VARCHAR(20) NOT NULL,
 DT_FECHA_INGRESO DATE NOT NULL,
 CH_PLANTEL VARCHAR(45) ,
 CH_CCT VARCHAR(45) ,
 CH_NOMBRAMIENTO VARCHAR(45) ,
 CH_ESTATUS VARCHAR(45) ,
 CH_HORAS_BASE VARCHAR(3) ,
 CH_HORAS_ADICIONALES VARCHAR(3) ,
  PRIMARY KEY (PK_CH_ID_NOMINA)
)ENGINE = InnoDB;


CREATE TABLE IF NOT EXISTS ASIGNATURA(
  IDASIGNATURA INT NOT NULL,
  NO_DE_GRUPOS INT ,
  NO_DE_HORAS_P INT ,
  TOTAL_DE_HORAS INT ,
  NO_DE_HORAS_T INT ,
  PK_CH_ID_CURP VARCHAR(18) NOT NULL,
  ASIGNATURA VARCHAR(45) ,
  PRIMARY KEY (IDASIGNATURA),
  FOREIGN KEY (PK_CH_ID_CURP)REFERENCES DATOS_PROFESOR (PK_CH_ID_CURP)
  )
ENGINE = InnoDB;


CREATE TABLE IF NOT EXISTS GRUPOS (
  GRUPOS INT NOT NULL,
  PK_CH_ID_CURP VARCHAR(18) NOT NULL,
  Hora VARCHAR(45) NOT NULL,
  Especialidad VARCHAR(100) NOT NULL,
  IDASIGNATURA INT NOT NULL,
  Turno VARCHAR(45) NOT NULL,
  SemestRe VARCHAR(45) NOT NULL,
  Salon VARCHAR(45) NOT NULL,
  Dia VARCHAR(45) NOT NULL,
  PRIMARY KEY (GRUPOS),
    FOREIGN KEY (PK_CH_ID_CURP)REFERENCES DATOS_PROFESOR (PK_CH_ID_CURP),
    FOREIGN KEY (IDASIGNATURA)REFERENCES ASIGNATURA (IDASIGNATURA)
    )ENGINE = InnoDB;

